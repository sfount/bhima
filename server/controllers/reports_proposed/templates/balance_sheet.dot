<head>
  
  <link rel="stylesheet" href="{{=it.path}}/templates/style/normalize.css">
  <link rel="stylesheet" href="{{=it.path}}/templates/style/skeleton.css">
  <link rel="stylesheet" href="{{=it.path}}/templates/style/reports.css">

</head>

<body>

  <section id="letterhead"></section>

  <section id="title" class="center">
      <h6>IMCK Hopital Bon Berger</h6>
      <h6>Balance Sheet</h6>
      <h6>As of {{=it.reportDate}}</h6>
  </section>
  
  <section>
    <table class="balance">
      <thead>
        <tr>
          <th colspan="2"></th>
          <th>Total</th>
        </tr>
        <tr class="spacer"> </tr>
      </thead>

      <tbody>
      
      <!-- TODO Minimise inline styles - confusing templates -->
      
      {{ function displayRow(accounts) { 
          accounts.forEach(function (line) {  }}
        <tr>
          
          <td style="{{? line.account_type_id === 3}}font-weight : bold;{{?}}">
            {{? it.displayAccountNumber}}
            {{=line.account_number}}
            {{?}}
          </td>

          <td style="padding-left: {{=line.depth * 50}}px; {{? line.account_type_id === 3}}font-weight : bold;{{?}}">{{=line.account_txt}}</td>
          <td class="totalColumn">{{? line.account_type_id !== 3}}{{=line.balance}}{{?}}</td>
        </tr> 

      {{ if (line.children.length) displayRow(line.children); }}
        
        {{? line.account_type_id === 3}} 
        <tr class="outline">

          <td></td>
          <td style="padding-left : {{=line.depth * 50}}px; font-weight : bold;">Total {{=line.account_txt}}</td>
          <td class="totalColumn" style="font-weight : bold;">{{=line.formattedBalance}}</td>
        </tr>
        {{?}}
      {{ }); }}
      {{ } }}

      {{ displayRow(it.data); }}
      </tbody>
    </table>
  </section>
</body>
